#N canvas 961 4 955 1027 10;
#X obj 68 -38 cnv 15 310 288 empty empty empty 20 12 0 14 -191407 -66577
0;
#X obj 340 -14 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 73 228 hsl 295 8 0 78017 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 26179 1;
#X obj 508 648 outlet~;
#X obj 561 647 outlet~;
#X obj 452 18 openpanel;
#X obj 452 83 soundfiler;
#X msg 390 195 range 0 \$1;
#X obj 508 593 *~;
#X obj 452 105 s \$0-sample_count;
#X obj 390 171 r \$0-sample_count;
#X obj 390 149 r \$0-sample_position;
#X obj 523 568 r \$0-sample_count;
#X obj 508 620 tabread4~ \$0-sampleloop;
#X obj 452 40 pack s \$0;
#X msg 452 62 read -resize \$1 \$2-sampleloop;
#X obj 359 622 snapshot~;
#X obj 359 645 s \$0-sample_position;
#X obj 359 598 metro 100;
#X obj 359 570 r \$0-sample_count;
#X obj 634 -152 r \$0-sample_count;
#X obj 634 -128 t f f;
#X obj 666 126 /;
#N canvas 530 449 271 182 len2freq 0;
#X obj 18 9 inlet;
#X obj 18 33 t b f;
#X msg 18 61 1;
#X obj 30 96 /;
#X obj 30 121 outlet;
#X text 69 6 Calculate the frequency required in order to play a single
loop at the correct tempo.;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X restore 583 219 pd len2freq;
#X obj 711 277 t b f;
#X text 783 141 Calculate the length of the sample in seconds;
#X obj 711 301 metro;
#X text 752 302 Metro will bang every 8th note;
#X obj 718 438 sel 0;
#X text 775 417 50% change of changing the loop settings;
#N canvas 328 382 621 386 randloop 0;
#X obj 20 15 inlet~;
#X obj 94 19 inlet;
#X msg 128 102 2;
#X msg 163 102 4;
#X msg 199 102 8;
#X msg 236 102 16;
#X msg 271 102 32;
#X msg 305 102 64;
#X obj 21 182 *~;
#X obj 21 208 wrap~;
#X obj 21 240 /~;
#X obj 21 273 outlet~;
#X text 165 16 Make the phasor loop over a smaller \, randomly chosen
\, range.;
#X msg 340 102 128;
#X msg 177 229 2;
#X msg 214 230 0;
#X obj 177 273 outlet;
#X text 246 228 This is the chance that the next 8th note will have
different settings: 50% for 2nd to 32nd notes \, 100% for 64th or 128th
note loops. This lowers the chance of having prolonged periods of 64th/128th
notes.;
#X obj 94 47 random 8;
#X obj 94 74 route 0 1 2 3 4 5 6 7;
#X msg 94 102 1;
#X connect 0 0 8 0;
#X connect 1 0 18 0;
#X connect 2 0 8 1;
#X connect 2 0 10 1;
#X connect 2 0 14 0;
#X connect 3 0 8 1;
#X connect 3 0 10 1;
#X connect 3 0 14 0;
#X connect 4 0 8 1;
#X connect 4 0 10 1;
#X connect 4 0 14 0;
#X connect 5 0 8 1;
#X connect 5 0 10 1;
#X connect 5 0 14 0;
#X connect 6 0 8 1;
#X connect 6 0 10 1;
#X connect 6 0 14 0;
#X connect 7 0 8 1;
#X connect 7 0 10 1;
#X connect 7 0 15 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 13 0 8 1;
#X connect 13 0 10 1;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X connect 15 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 1 2 0;
#X connect 19 2 3 0;
#X connect 19 3 4 0;
#X connect 19 4 5 0;
#X connect 19 5 6 0;
#X connect 19 6 7 0;
#X connect 19 7 13 0;
#X connect 20 0 8 1;
#X connect 20 0 10 1;
#X connect 20 0 14 0;
#X restore 508 474 pd randloop;
#N canvas 410 373 519 256 randoffset 0;
#X obj 23 12 inlet;
#X obj 81 127 outlet;
#X text 159 51 Randomize the playhead position to any 8th note by generating
an offset. This will be added to the phasor and wrapped to the valid
loop range.;
#X obj 96 14 inlet;
#X obj 96 38 * 8;
#X obj 23 63 random;
#X obj 81 99 /;
#X connect 0 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X restore 718 467 pd randoffset;
#X obj 508 512 +~;
#X obj 508 540 wrap~;
#X obj 506 259 phasor~;
#X text 808 468 Randomize playhead position;
#X text 358 474 Randomize loop settings;
#X text 266 662 Update the playhead visual indicator;
#X floatatom 340 6 5 1 8 0 - - -, f 5;
#X obj 392 -66 loadbang;
#X msg 392 -42 1;
#X obj 385 49 s \$0-bars;
#X obj 803 161 r \$0-bars;
#X msg 752 209 250;
#X obj 711 254 *;
#X obj 764 233 /;
#X obj 752 185 t b b f;
#X obj 692 95 t b f;
#X msg 661 -90 44100;
#X floatatom 660 -56 8 0 0 0 - - -, f 8;
#X msg 709 -92 96000;
#X obj 718 415 random 2;
#X text 24 701 adapted from [beatmangle / Colin Barry / www.loomer.co.uk
colin@loomer.co.uk];
#X text 267 -15 load sample;
#X obj 547 354 threshold~ 0.1 1 1 1;
#X obj 547 322 inlet~ trigger;
#X obj 1086 31 snapshot~;
#X obj 1089 -21 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X obj 1081 -45 loadbang;
#X obj 1082 7 metro 1;
#X obj 1033 -70 inlet~ speed;
#X obj 1054 81 * 44100;
#X obj 780 60 +;
#X obj 899 -73 snapshot~;
#X obj 902 -125 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
1 1;
#X obj 894 -149 loadbang;
#X obj 895 -97 metro 1;
#X obj 867 -23 * 44100;
#X obj 846 -174 inlet~ range;
#X text 661 -35 comment;
#X obj 130 -14 hsl 128 15 -352800 352800 0 0 empty empty empty -2 -8
0 10 -262144 -1 -1 9850 1;
#X obj 791 22 +;
#X text 76 -14 range;
#X obj 112 -14 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 20 32 44100;
#X text 312 5 bars;
#X text 71 251 out;
#X text 357 250 out;
#X text 162 -34 ### BEATMANGLE ###;
#X text 68 -55 trig;
#X text 197 -55 range;
#X text 343 -54 speed;
#X obj 73 27 cnv 15 299 198 empty empty empty 20 12 0 14 -262017 -66577
0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-sampleloop 78017 float 4 black #0433ff;
#X coords 0 1 78016 -1 300 200 1;
#X restore 71 27 graph;
#X obj 112 -34 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 151 -86 s \$0-trig;
#X obj 713 369 r \$0-trig;
#X text 80 -37 trig;
#X connect 1 0 5 0;
#X connect 5 0 14 0;
#X connect 6 0 9 0;
#X connect 7 0 2 0;
#X connect 8 0 13 0;
#X connect 8 0 16 0;
#X connect 10 0 7 0;
#X connect 11 0 2 0;
#X connect 12 0 8 1;
#X connect 13 0 4 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 6 0;
#X connect 16 0 17 0;
#X connect 18 0 16 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 21 1 48 0;
#X connect 22 0 23 0;
#X connect 22 0 44 0;
#X connect 23 0 34 0;
#X connect 24 0 26 0;
#X connect 24 1 26 1;
#X connect 28 0 31 0;
#X connect 28 0 30 1;
#X connect 30 0 32 0;
#X connect 30 1 51 1;
#X connect 31 0 32 1;
#X connect 32 0 33 0;
#X connect 33 0 8 0;
#X connect 34 0 30 0;
#X connect 38 0 41 0;
#X connect 39 0 40 0;
#X connect 40 0 38 0;
#X connect 42 0 46 0;
#X connect 42 0 31 1;
#X connect 43 0 45 0;
#X connect 44 0 24 0;
#X connect 45 0 44 1;
#X connect 46 0 44 0;
#X connect 46 1 43 0;
#X connect 46 2 45 1;
#X connect 47 0 22 0;
#X connect 47 1 22 1;
#X connect 48 0 49 0;
#X connect 49 0 71 1;
#X connect 50 0 49 0;
#X connect 51 0 28 0;
#X connect 54 0 51 0;
#X connect 55 0 54 0;
#X connect 56 0 61 0;
#X connect 57 0 59 0;
#X connect 58 0 57 0;
#X connect 59 0 56 0;
#X connect 60 0 56 0;
#X connect 61 0 62 0;
#X connect 62 0 47 0;
#X connect 63 0 67 0;
#X connect 64 0 66 0;
#X connect 65 0 64 0;
#X connect 66 0 63 0;
#X connect 67 0 71 0;
#X connect 68 0 63 0;
#X connect 70 0 49 0;
#X connect 71 0 62 1;
#X connect 73 0 74 0;
#X connect 74 0 70 0;
#X connect 84 0 85 0;
#X connect 86 0 51 0;
#X coords 0 -1 1 1 315 327 2 66 -55;
